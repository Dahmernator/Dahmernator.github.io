<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Hockey Animation - Two Frames</title>
    <style>
        body { margin: 0; background: #1a1a2e; display: flex; justify-content: center; align-items: center; height: 100vh; overflow: hidden; }
        canvas { background: #e3f2fd; border: 5px solid #fff; image-rendering: pixelated; }
    </style>
</head>
<body>
    <canvas id="gameCanvas" width="800" height="500"></canvas>

    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');

        const player = {
            // Now we store two image objects
            img1: new Image(),
            img2: new Image(),
            currentImg: null, 
            
            x: 370,
            y: 220,
            width: 128,  // Adjusted for your 128x128 request
            height: 128,
            
            vx: 0,
            vy: 0,
            accel: 1200,
            friction: 0.96,
            maxSpeed: 400,
            
            facingLeft: false,
            animTimer: 0,
            frame: 1
        };

        // Load both images
        player.img1.src = 'red-hockey-guy64.png';
        player.img2.src = 'red-hockey-guy2-64.png';
        player.currentImg = player.img1;

        const keys = {};
        window.addEventListener('keydown', e => keys[e.key] = true);
        window.addEventListener('keyup', e => keys[e.key] = false);

        let lastTime = 0;

        function gameLoop(timestamp) {
            let dt = (timestamp - lastTime) / 1000;
            lastTime = timestamp;
            if (dt > 0.1) dt = 0.1;

            update(dt);
            draw();

            requestAnimationFrame(gameLoop);
        }

        function update(dt) {
            let isMoving = false;

            // Movement Input
            if (keys['ArrowLeft'] || keys['a']) { player.vx -= player.accel * dt; player.facingLeft = true; isMoving = true; }
            if (keys['ArrowRight'] || keys['d']) { player.vx += player.accel * dt; player.facingLeft = false; isMoving = true; }
            if (keys['ArrowUp'] || keys['w']) { player.vy -= player.accel * dt; isMoving = true; }
            if (keys['ArrowDown'] || keys['s']) { player.vy += player.accel * dt; isMoving = true; }

            // Animation Logic: Only swap frames if moving
            if (isMoving) {
                player.animTimer += dt;
                if (player.animTimer > 0.15) { // Swap every 0.15 seconds
                    player.frame = player.frame === 1 ? 2 : 1;
                    player.currentImg = player.frame === 1 ? player.img1 : player.img2;
                    player.animTimer = 0;
                }
            } else {
                player.currentImg = player.img1; // Default to frame 1 when still
            }

            // Physics
            player.vx *= player.friction;
            player.vy *= player.friction;
            player.x += player.vx * dt;
            player.y += player.vy * dt;

            // Bounds
            if (player.x < 0) player.x = 0;
            if (player.x + player.width > canvas.width) player.x = canvas.width - player.width;
        }

        function draw() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            ctx.save();
            if (player.facingLeft) {
                ctx.translate(player.x + player.width, player.y);
                ctx.scale(-1, 1);
                ctx.drawImage(player.currentImg, 0, 0, player.width, player.height);
            } else {
                ctx.drawImage(player.currentImg, player.x, player.y, player.width, player.height);
            }
            ctx.restore();
        }

        requestAnimationFrame(gameLoop);
    </script>
</body>
</html>